
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
        <style type="text/css">
            
/*
    Fluid Baseline Grid v1.0.0
    Designed & Built by Josh Hopkins and 40 Horse, http://40horse.com
    Licensed under Unlicense, http://unlicense.org/

    Base stylesheet with CSS normalization, typographic baseline grid and progressive responsiveness
*/

/* HTML5 DECLARATIONS */
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section, dialog {display: block}
audio[controls],canvas,video {display: inline-block; *display: inline; zoom: 1}

/* BASE */
html {height: 100%; font-size: 100%; overflow-y: scroll; -webkit-text-size-adjust: 100%} /* Force scrollbar in non-IE and Remove iOS text size adjust without disabling user zoom */
body {margin: 0; min-height: 100%; -webkit-font-smoothing:antialiased; font-smoothing:antialiased; text-rendering:optimizeLegibility; background:url('../images/24px_grid_bg.gif') 0 1.1875em} /* Improve default text rendering, handling of kerning pairs and ligatures */

/* DEFAULT FONT SETTINGS */
/* 16px base font size with 150% (24px) friendly, unitless line height and margin for vertical rhythm */
/* Font-size percentage is based on 16px browser default size */
body, button, input, select, textarea {font: 100%/1.5 Georgia,Palatino,"Palatino Linotype",Times,"Times New Roman",serif; *font-size: 1em; color: #333} /* IE7 and older can't resize px based text */
p, blockquote, q, pre, address, hr, code, samp, dl, ol, ul, form, table, fieldset, menu, img {margin: 0 0 1.5em; padding: 0}

/* TYPOGRAPHY */
/* Composed to a scale of 12px, 14px, 16px, 18px, 21px, 24px, 36px, 48px, 60px and 72px */
h1, h2, h3, h4, h5, h6 {font-family:Futura, "Century Gothic", AppleGothic, sans-serif;color:#222;text-shadow:1px 1px 1px rgba(0,0,0,.10)}
h1 {margin: 0; font-size: 3.75em; line-height: 1.2em; margin-bottom: 0.4em} /* 60px / 72px */
h2 {margin: 0; font-size: 3em; line-height: 1em; margin-bottom: 0.5em} /* 48px / 48px */
h3 {margin: 0; font-size: 2.25em; line-height: 1.3333333333333333333333333333333em; margin-bottom: 0.6667em} /* 36px / 48px */ 
h4 {margin: 0; font-size: 1.5em; line-height: 1em; margin-bottom: 1em} /* 24px / 24px */
h5 {margin: 0; font-size: 1.3125em; line-height: 1.1428571428571428571428571428571em; margin-bottom: 1.1428571428571428571428571428571em} /* 21px / 24px */
h6 {margin: 0; font-size: 1.125em; line-height: 1.3333333333333333333333333333333em; margin-bottom: 1.3333333333333333333333333333333em} /* 18px / 24px */
p, ul, blockquote, pre, td, th, label {margin: 0; font-size: 1em; line-height: 1.5em; margin-bottom: 1.5em} /* 16px / 24px */
small, p.small {margin: 0; font-size: 0.875em; line-height: 1.7142857142857142857142857142857em; margin-bottom: 1.7142857142857142857142857142857em} /* 14px / 24px */

/* CODE */
pre {white-space: pre; white-space: pre-wrap; word-wrap: break-word} /* Allow line wrapping of 'pre' */
pre, code, kbd, samp {font-size: 1em; line-height: 1.5em; margin-bottom: 1.5em; font-family: Menlo, Consolas, 'DejaVu Sans Mono', Monaco, monospace}

/* TABLES */
table {border-collapse: collapse; border-spacing: 0; margin-bottom: 1.5em}
th {text-align: left}
tr, th, td {padding-right: 1.5em; border-bottom: 0 solid #333}

/* FORMS */
form {margin: 0}
fieldset {border: 0;padding: 0}
textarea {overflow: auto; vertical-align: top}
legend {*margin-left: -.75em}
button, input, select, textarea {vertical-align: baseline; *vertical-align: middle} /* IE7 and older */
button, input {line-height: normal; *overflow: visible}
button, input[type="button"], input[type="reset"], input[type="submit"] {cursor: pointer;-webkit-appearance: button}
input[type="checkbox"], input[type="radio"] {box-sizing: border-box}
input[type="search"] {-webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box}
input[type="search"]::-webkit-search-decoration {-webkit-appearance: none}
button::-moz-focus-inner, input::-moz-focus-inner {border: 0; padding: 0}

/* QUOTES */
blockquote, q {quotes: none}
blockquote:before, blockquote:after, q:before, q:after {content: ''; content: none}
blockquote, q, cite {font-style: italic}
blockquote {padding-left: 1.5em; border-left: 3px solid #ccc}
blockquote > p {padding: 0}

/* LISTS */
ul, ol {list-style-position: inside; padding: 0}
li ul, li ol {margin: 0 1.5em}
dl dd {margin-left: 1.5em}
dt {font-family:Futura, "Century Gothic", AppleGothic, sans-serif}

/* HYPERLINKS */
a {text-decoration: none; color:#c47529}
a:hover {text-decoration: underline}
a:focus {outline: thin dotted}
a:hover, a:active {outline: none} /* Better CSS Outline Suppression */

/* MEDIA */
figure {margin: 0}
img, object, embed, video {max-width: 100%; _width: 100%} /* Fluid images */
img {border: 0; -ms-interpolation-mode: bicubic} /* Improve IE's resizing of images */
svg:not(:root) {overflow: hidden} /* Correct IE9 overflow */

/* ABBREVIATION */
abbr[title], dfn[title] {border-bottom: 1px dotted #333; cursor: help}

/* MARKED/INSERTED/DELETED AND SELECTED TEXT */
ins, mark {text-decoration: none}
mark {background: #c47529}
ins {background: #d49855}
del {text-decoration: line-through}
::-moz-selection {background: #c47529; color: #fff; text-shadow: none} /* selected text */
::selection {background: #c47529; color: #fff; text-shadow: none} /* selected text */

/* OTHERS */
strong, b, dt { font-weight: bold}
dfn {font-style: italic}
var, address {font-style: normal}
sub, sup {font-size: 75%; line-height: 0; position: relative; vertical-align: baseline} /* Position 'sub' and 'sup' without affecting line-height */
sup {top: -0.5em} /* Move superscripted text up */
sub {bottom: -0.25em} /* Move subscripted text down */
span.amp{font-family:Adobe Caslon Pro,Baskerville,"Goudy Old Style","Palatino","Palatino Linotype","Book Antiqua",Georgia,"Times New Roman",Times,serif;font-style:italic;font-size:110%;line-height:0;position:relative;vertical-align:baseline} /* Best available ampersand */

/* MICRO CLEARFIX HACK */
.cf:before, .cf:after {content:"";display:table} /* For modern browsers */
.cf:after {clear:both}
.cf {zoom:1} /* For IE 6/7 (trigger hasLayout) */

/* DEFAULT MOBILE STYLE */
body {width: 92%; margin: 0 auto} /* Center page without wrapper */
/* column grid */
.g1,.g2,.g3{display:block; position: relative; margin-left: 1%; margin-right: 1%}
/* 1 column grid */
.g1,.g2,.g3{width:98.0%}


/* media Queries

FOLDING FLUID GRID
< 767px         - 1-Column Fluid Grid
768px - 1023px  - 2-Column Fluid Grid
> 1024px            - 3-Column Fluid Grid
Change widths as necessary
------------------------------------------- */

/* MOBILE PORTRAIT */
@media only screen and (min-width: 320px) {
    body {
        
    }
}

/* MOBILE LANDSCAPE */
@media only screen and (min-width: 480px) {
    body {
        
    }
}

/* SMALL TABLET */
@media only screen and (min-width: 600px) {
    body {
        
    }
}

/* TABLET/NETBOOK */
@media only screen and (min-width: 768px) { 
    body {
        
    }
    
    /* COLUMN GRID */
    .g1,.g2,.g3 {display:inline; float: left}
    
    /* 2 COLUMN GRID */
    .g1 {width:48.0%}
    .g2 {width:48.0%}
    .g3 {width:98.0%}
}

/* LANDSCAPE TABLET/NETBOOK/LAPTOP */
@media only screen and (min-width: 1024px) { 
    body {

    }
    
    /* 3 COLUMN GRID */
    .g1 {width:31.333%}
    .g2 {width:64.667%;}
    .g3 {width:98.0%}
}

@media only screen and (min-width: 1280px) { 
/* DESKTOP */
        body {

    }
}

/* WIDESCREEN */
/* Increased body size for legibility */
@media only screen and (min-width: 1400px) { 
    body {font-size:116.75%; background:url('../images/28px_grid_bg.gif') 0 1.25em; max-width:1440px} /* 18.5px / 28px */
}


/* PRINT */
@media print {
  * {background: transparent !important; color: black !important; text-shadow: none !important; filter:none !important; -ms-filter: none !important} /* Black prints faster */
  a, a:visited {color: #444 !important; text-decoration: underline}
  a[href]:after {content: " (" attr(href) ")"}
  abbr[title]:after {content: " (" attr(title) ")"}
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {content: ""}  /* Don't print links for images, javascript or internal links */
  pre, blockquote {border: 1px solid #999; page-break-inside: avoid; }
  thead {display: table-header-group; } /* Repeat header row at top of each printed page */
  tr, img {page-break-inside: avoid; }
  img {max-width: 100% !important; }
  @page {margin: 0.5cm}
  p, h2, h3 {orphans: 3; widows: 3}
  h2, h3{page-break-after: avoid}
}

            
/*
 * Copyright (c) 2013 Thibaut Courouble
 * http://www.cssflow.com
 *
 * Licensed under the MIT License:
 * http://www.opensource.org/licenses/mit-license.php
 */

.button {
  font: 10px/18px 'Lucida Grande', Arial, sans-serif;
  display: inline-block;
  vertical-align: top;
  position: relative;
  overflow: hidden;
  min-width: 96px;
  line-height: 30px;
  padding: 0 24px;
  font-size: 14px;
  color: white;
  text-align: center;
  text-decoration: none;
  text-shadow: 0 1px #154c86;
  background-color: #247edd;
  background-clip: padding-box;
  border: 1px solid;
  border-color: #1c65b2 #18589c #18589c;
  border-radius: 4px;
  -webkit-box-shadow: inset 0 1px rgba(255, 255, 255, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
  box-shadow: inset 0 1px rgba(255, 255, 255, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
  background-image: -webkit-linear-gradient(top, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.12) 51%, rgba(0, 0, 0, 0.04));
  background-image: -moz-linear-gradient(top, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.12) 51%, rgba(0, 0, 0, 0.04));
  background-image: -o-linear-gradient(top, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.12) 51%, rgba(0, 0, 0, 0.04));
  background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.12) 51%, rgba(0, 0, 0, 0.04));
}
.button:before {
  content: '';
  position: absolute;
  top: -25%;
  bottom: -25%;
  left: -20%;
  right: -20%;
  border-radius: 50%;
  background: transparent;
  -webkit-box-shadow: inset 0 0 38px rgba(255, 255, 255, 0.5);
  box-shadow: inset 0 0 38px rgba(255, 255, 255, 0.5);
}
.button:hover {
  background-color: #1a74d3;
  text-decoration: none;
}
.button:active {
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 -1px #154c86;
  background: #1f71c8;
  border-color: #113f70 #154c86 #1c65b2;
  -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px rgba(255, 255, 255, 0.4);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px rgba(255, 255, 255, 0.4);
  background-image: -webkit-linear-gradient(top, #1a5da5, #3a8be0);
  background-image: -moz-linear-gradient(top, #1a5da5, #3a8be0);
  background-image: -o-linear-gradient(top, #1a5da5, #3a8be0);
  background-image: linear-gradient(to bottom, #1a5da5, #3a8be0);
}
.button:active:before {
  top: -50%;
  bottom: -125%;
  left: -15%;
  right: -15%;
  -webkit-box-shadow: inset 0 0 96px rgba(0, 0, 0, 0.2);
  box-shadow: inset 0 0 96px rgba(0, 0, 0, 0.2);
}

.button-green {
  text-shadow: 0 1px #0d4d09;
  background-color: #1ca913;
  border-color: #147b0e #11640b #11640b;
}
.button-green:hover {
  background-color: #159b0d;
}
.button-green:active {
  text-shadow: 0 -1px #0d4d09;
  background: #189210;
  border-color: #093606 #0d4d09 #147b0e;
  background-image: -webkit-linear-gradient(top, #126d0c, #20c016);
  background-image: -moz-linear-gradient(top, #126d0c, #20c016);
  background-image: -o-linear-gradient(top, #126d0c, #20c016);
  background-image: linear-gradient(to bottom, #126d0c, #20c016);
}

.button-red {
  text-shadow: 0 1px #72100d;
  background-color: #cd1d18;
  border-color: #9f1713 #891310 #891310;
}
.button-red:hover {
  background-color: #c01511;
}
.button-red:active {
  text-shadow: 0 -1px #72100d;
  background: #b61a15;
  border-color: #5b0d0b #72100d #9f1713;
  background-image: -webkit-linear-gradient(top, #921511, #e4201b);
  background-image: -moz-linear-gradient(top, #921511, #e4201b);
  background-image: -o-linear-gradient(top, #921511, #e4201b);
  background-image: linear-gradient(to bottom, #921511, #e4201b);
}

            
.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #303030 } /* Generic.Heading */
.highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #606060 } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008800 } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.highlight .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #336699 } /* Name.Attribute */
.highlight .nb { color: #003388 } /* Name.Builtin */
.highlight .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555 } /* Name.Decorator */
.highlight .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.highlight .nl { color: #336699; font-style: italic } /* Name.Label */
.highlight .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.highlight .py { color: #336699; font-weight: bold } /* Name.Property */
.highlight .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #336699 } /* Name.Variable */
.highlight .ow { color: #008800 } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.highlight .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.highlight .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.highlight .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.highlight .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.highlight .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.highlight .bp { color: #003388 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700 } /* Name.Variable.Global */
.highlight .vi { color: #3333bb } /* Name.Variable.Instance */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */

            img { border: thin solid grey; }
        </style>
        
    </head>
    <body>
    <div id="content">
        <div class="g3">
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#models" id="id1">Models</a></li>
<li><a class="reference internal" href="#site-config" id="id2">Site Config</a></li>
<li><a class="reference internal" href="#admin-interface" id="id3">Admin Interface</a></li>
<li><a class="reference internal" href="#views" id="id4">Views</a><ul>
<li><a class="reference internal" href="#index" id="id5">Index</a></li>
<li><a class="reference internal" href="#detail" id="id6">Detail</a></li>
<li><a class="reference internal" href="#results" id="id7">Results</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="models">
<h1><a class="toc-backref" href="#id1">Models</a></h1>
<p>The <cite>models</cite> module is imported from django:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
</pre></div><p>We define a Poll class:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a><span class="k">class</span> <span class="nc">Poll</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</pre></div><p>And a Choice class:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a><span class="k">class</span> <span class="nc">Choice</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</pre></div><p>Here are the fields defined for Poll:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="n">question</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>    <span class="n">pub_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="s">&#39;date_published&#39;</span><span class="p">)</span>
</pre></div><p>And for Choice:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="n">poll</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Poll</span><span class="p">)</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>    <span class="n">choice_text</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<a name="mysite_com--polls--models.py-idio.html-3"></a>    <span class="n">votes</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div><p>Each defines a descriptive <cite>__unicode__</cite> method:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">question</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">choice_text</span>
</pre></div><p>We also have a <cite>was_published_recently</cite> method defined on Poll:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">was_published_recently</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>        <span class="n">now</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a name="mysite_com--polls--models.py-idio.html-3"></a>        <span class="k">return</span> <span class="n">now</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pub_date</span> <span class="o">&lt;</span> <span class="n">now</span>
</pre></div><p>And some unit tests for this method:</p>
<div class="highlight"><pre><a name="mysite_com--polls--tests.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">test_was_published_recently_with_old_poll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--tests.py-idio.html-2"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-3"></a><span class="sd">        was_published_recently() should return False for polls whose pub_date is older than one day</span>
<a name="mysite_com--polls--tests.py-idio.html-4"></a><span class="sd">        &quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-5"></a>        <span class="n">old_poll</span> <span class="o">=</span> <span class="n">Poll</span><span class="p">(</span><span class="n">pub_date</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>
<a name="mysite_com--polls--tests.py-idio.html-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">old_poll</span><span class="o">.</span><span class="n">was_published_recently</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--tests.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">test_was_published_recently_with_recent_poll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--tests.py-idio.html-2"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-3"></a><span class="sd">        was_published_recently() should return True for polls whose pub_date is within the last day</span>
<a name="mysite_com--polls--tests.py-idio.html-4"></a><span class="sd">        &quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-5"></a>        <span class="n">recent_poll</span> <span class="o">=</span> <span class="n">Poll</span><span class="p">(</span><span class="n">pub_date</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<a name="mysite_com--polls--tests.py-idio.html-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">recent_poll</span><span class="o">.</span><span class="n">was_published_recently</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--tests.py-idio.html-1"></a>    <span class="k">def</span> <span class="nf">test_was_published_recently_with_future_poll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--tests.py-idio.html-2"></a>        <span class="sd">&quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-3"></a><span class="sd">        was_published_recently() should return False for polls whose pub_date is in the future</span>
<a name="mysite_com--polls--tests.py-idio.html-4"></a><span class="sd">        &quot;&quot;&quot;</span>
<a name="mysite_com--polls--tests.py-idio.html-5"></a>        <span class="n">future_poll</span> <span class="o">=</span> <span class="n">Poll</span><span class="p">(</span><span class="n">pub_date</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>
<a name="mysite_com--polls--tests.py-idio.html-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">future_poll</span><span class="o">.</span><span class="n">was_published_recently</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
</pre></div><p>Here are the results of running unit tests on the polls app:</p>
<pre class="literal-block">
$ cd mysite_com
$ python manage.py test polls
Creating test database for alias 'default'...
...
----------------------------------------------------------------------
Ran 3 tests in 0.001s

OK
Destroying test database for alias 'default'...
</pre>
</div>
<div class="section" id="site-config">
<h1><a class="toc-backref" href="#id2">Site Config</a></h1>
<p>URL routing is defined in a site-wide urls.py:</p>
<div class="highlight"><pre><a name="mysite_com--mysite_com--urls.py-idio.html-1"></a><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">include</span><span class="p">,</span> <span class="n">url</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-2"></a>
<a name="mysite_com--mysite_com--urls.py-idio.html-3"></a><span class="c"># Uncomment the next two lines to enable the admin:</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-4"></a><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-5"></a><span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-6"></a>
<a name="mysite_com--mysite_com--urls.py-idio.html-7"></a><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-8"></a>    <span class="c"># Examples:</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-9"></a>    <span class="c"># url(r&#39;^$&#39;, &#39;mysite_com.views.home&#39;, name=&#39;home&#39;),</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-10"></a>    <span class="c"># url(r&#39;^mysite_com/&#39;, include(&#39;mysite_com.foo.urls&#39;)),</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-11"></a>    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^polls/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;polls.urls&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s">&#39;polls&#39;</span><span class="p">)),</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-12"></a>
<a name="mysite_com--mysite_com--urls.py-idio.html-13"></a>    <span class="c"># Uncomment the admin/doc line below to enable admin documentation:</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-14"></a>    <span class="c"># url(r&#39;^admin/doc/&#39;, include(&#39;django.contrib.admindocs.urls&#39;)),</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-15"></a>
<a name="mysite_com--mysite_com--urls.py-idio.html-16"></a>    <span class="c"># Uncomment the next line to enable the admin:</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-17"></a>    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
<a name="mysite_com--mysite_com--urls.py-idio.html-18"></a><span class="p">)</span>
</pre></div><p>And a separate urls.py in the polls app:</p>
<div class="highlight"><pre><a name="mysite_com--polls--urls.py-idio.html-1"></a><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">url</span>
<a name="mysite_com--polls--urls.py-idio.html-2"></a>
<a name="mysite_com--polls--urls.py-idio.html-3"></a><span class="kn">from</span> <span class="nn">polls</span> <span class="kn">import</span> <span class="n">views</span>
<a name="mysite_com--polls--urls.py-idio.html-4"></a>
<a name="mysite_com--polls--urls.py-idio.html-5"></a><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
<a name="mysite_com--polls--urls.py-idio.html-6"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">IndexView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;index&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-7"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;pk&gt;\d+)/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">DetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;detail&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-8"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;pk&gt;\d+)/results/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">ResultsView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;results&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-9"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;poll_id&gt;\d+)/vote/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">vote</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;vote&#39;</span><span class="p">)</span>
<a name="mysite_com--polls--urls.py-idio.html-10"></a>        <span class="p">)</span>
</pre></div></div>
<div class="section" id="admin-interface">
<h1><a class="toc-backref" href="#id3">Admin Interface</a></h1>
<p>Django provides a ready-made admin interface. The admin interface is activated
in <cite>settings.py</cite> as follows:</p>
<div class="highlight"><pre><a name="mysite_com--mysite_com--settings.py-idio.html-1"></a><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-2"></a>    <span class="s">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-3"></a>    <span class="s">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-4"></a>    <span class="s">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-5"></a>    <span class="s">&#39;django.contrib.sites&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-6"></a>    <span class="s">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-7"></a>    <span class="s">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-8"></a>    <span class="c"># Uncomment the next line to enable the admin:</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-9"></a>    <span class="s">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-10"></a>    <span class="c"># Uncomment the next line to enable admin documentation:</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-11"></a>    <span class="s">&#39;django.contrib.admindocs&#39;</span><span class="p">,</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-12"></a>    <span class="s">&#39;polls&#39;</span>
<a name="mysite_com--mysite_com--settings.py-idio.html-13"></a><span class="p">)</span>
</pre></div><p>The base template for the admin section is:</p>
<div class="highlight"><pre><a name="mysite_com--templates--admin--base_site.html-idio.html-1"></a>{% extends &quot;admin/base.html&quot; %}
<a name="mysite_com--templates--admin--base_site.html-idio.html-2"></a>{% load i18n %}
<a name="mysite_com--templates--admin--base_site.html-idio.html-3"></a>
<a name="mysite_com--templates--admin--base_site.html-idio.html-4"></a>{% block title %}{{ title }} | {% trans &#39;Site Admin&#39; %}{% endblock %}
<a name="mysite_com--templates--admin--base_site.html-idio.html-5"></a>
<a name="mysite_com--templates--admin--base_site.html-idio.html-6"></a>{% block branding %}
<a name="mysite_com--templates--admin--base_site.html-idio.html-7"></a><span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">&quot;site-name&quot;</span><span class="nt">&gt;</span>{% trans &#39;Administration&#39; %}<span class="nt">&lt;/h1&gt;</span>
<a name="mysite_com--templates--admin--base_site.html-idio.html-8"></a>{% endblock %}
<a name="mysite_com--templates--admin--base_site.html-idio.html-9"></a>
<a name="mysite_com--templates--admin--base_site.html-idio.html-10"></a>{% block nav-global %}{% endblock %}
</pre></div><p>Here is what the main admin page looks like:</p>
<img alt="logged-in-admin.png" src="logged-in-admin.png" />
<p>The admin interface for polls is configured in the polls app:</p>
<div class="highlight"><pre><a name="mysite_com--polls--admin.py-idio.html-1"></a><span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<a name="mysite_com--polls--admin.py-idio.html-2"></a><span class="kn">from</span> <span class="nn">polls.models</span> <span class="kn">import</span> <span class="n">Choice</span><span class="p">,</span> <span class="n">Poll</span>
<a name="mysite_com--polls--admin.py-idio.html-3"></a>
<a name="mysite_com--polls--admin.py-idio.html-4"></a><span class="k">class</span> <span class="nc">ChoiceInline</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">TabularInline</span><span class="p">):</span>
<a name="mysite_com--polls--admin.py-idio.html-5"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Choice</span>
<a name="mysite_com--polls--admin.py-idio.html-6"></a>    <span class="n">extra</span> <span class="o">=</span> <span class="mi">3</span>
<a name="mysite_com--polls--admin.py-idio.html-7"></a>
<a name="mysite_com--polls--admin.py-idio.html-8"></a><span class="k">class</span> <span class="nc">PollAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
<a name="mysite_com--polls--admin.py-idio.html-9"></a>    <span class="n">fieldsets</span> <span class="o">=</span> <span class="p">[</span>
<a name="mysite_com--polls--admin.py-idio.html-10"></a>            <span class="p">(</span><span class="bp">None</span><span class="p">,</span>               <span class="p">{</span><span class="s">&#39;fields&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;question&#39;</span><span class="p">]</span> <span class="p">}),</span>
<a name="mysite_com--polls--admin.py-idio.html-11"></a>            <span class="p">(</span><span class="s">&#39;Date Information&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;fields&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;pub_date&#39;</span><span class="p">]</span> <span class="p">})</span>
<a name="mysite_com--polls--admin.py-idio.html-12"></a>            <span class="p">]</span>
<a name="mysite_com--polls--admin.py-idio.html-13"></a>    <span class="n">inlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">ChoiceInline</span><span class="p">]</span>
<a name="mysite_com--polls--admin.py-idio.html-14"></a>    <span class="n">list_display</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;question&#39;</span><span class="p">,</span> <span class="s">&#39;pub_date&#39;</span><span class="p">,</span> <span class="s">&#39;was_published_recently&#39;</span><span class="p">)</span>
<a name="mysite_com--polls--admin.py-idio.html-15"></a>    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;pub_date&#39;</span><span class="p">,)</span>
<a name="mysite_com--polls--admin.py-idio.html-16"></a>    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;question&#39;</span><span class="p">,)</span>
<a name="mysite_com--polls--admin.py-idio.html-17"></a>    <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s">&#39;pub_date&#39;</span>
<a name="mysite_com--polls--admin.py-idio.html-18"></a>
<a name="mysite_com--polls--admin.py-idio.html-19"></a><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Poll</span><span class="p">,</span> <span class="n">PollAdmin</span><span class="p">)</span>
</pre></div><p>Further config is attached to the <cite>Poll</cite> class:</p>
<div class="highlight"><pre><a name="mysite_com--polls--models.py-idio.html-1"></a>    <span class="n">was_published_recently</span><span class="o">.</span><span class="n">admin_order_field</span> <span class="o">=</span> <span class="s">&#39;pub_date&#39;</span>
<a name="mysite_com--polls--models.py-idio.html-2"></a>    <span class="n">was_published_recently</span><span class="o">.</span><span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span>
<a name="mysite_com--polls--models.py-idio.html-3"></a>    <span class="n">was_published_recently</span><span class="o">.</span><span class="n">short_description</span> <span class="o">=</span> <span class="s">&#39;Published recently?&#39;</span>
</pre></div><p>Here is the polls admin:</p>
<img alt="polls-admin.png" src="polls-admin.png" />
<p>Let's add a new poll:</p>
<div class="highlight"><pre><a name="docs--screenshots.js-idio.html-1"></a><span class="nx">casper</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="nx">addNewPoll</span><span class="p">()</span> <span class="p">{</span>
<a name="docs--screenshots.js-idio.html-2"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">capture</span><span class="p">(</span><span class="s2">&quot;add-new-poll.png&quot;</span><span class="p">);</span>
<a name="docs--screenshots.js-idio.html-3"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span>
<a name="docs--screenshots.js-idio.html-4"></a>        <span class="s1">&#39;#poll_form&#39;</span><span class="p">,</span>
<a name="docs--screenshots.js-idio.html-5"></a>        <span class="p">{</span>
<a name="docs--screenshots.js-idio.html-6"></a>            <span class="nx">question</span><span class="o">:</span> <span class="s1">&#39;What is your favorite color?&#39;</span><span class="p">,</span>
<a name="docs--screenshots.js-idio.html-7"></a>        <span class="s1">&#39;choice_set-0-choice_text&#39;</span> <span class="o">:</span> <span class="s2">&quot;Blue. No, green!&quot;</span><span class="p">,</span>
<a name="docs--screenshots.js-idio.html-8"></a>        <span class="s1">&#39;choice_set-1-choice_text&#39;</span> <span class="o">:</span> <span class="s2">&quot;Yellow&quot;</span><span class="p">,</span>
<a name="docs--screenshots.js-idio.html-9"></a>        <span class="s1">&#39;choice_set-2-choice_text&#39;</span> <span class="o">:</span> <span class="s2">&quot;Red&quot;</span>
<a name="docs--screenshots.js-idio.html-10"></a>        <span class="p">},</span>
<a name="docs--screenshots.js-idio.html-11"></a>        <span class="kc">false</span>
<a name="docs--screenshots.js-idio.html-12"></a>        <span class="p">);</span>
<a name="docs--screenshots.js-idio.html-13"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s2">&quot;.datetimeshortcuts a[href*=handleCalendar]&quot;</span><span class="p">);</span>
<a name="docs--screenshots.js-idio.html-14"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s2">&quot;.datetimeshortcuts a[href*=handleClock]&quot;</span><span class="p">);</span>
<a name="docs--screenshots.js-idio.html-15"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">capture</span><span class="p">(</span><span class="s2">&quot;add-new-poll-filled-in.png&quot;</span><span class="p">);</span>
<a name="docs--screenshots.js-idio.html-16"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s2">&quot;input[name=_save]&quot;</span><span class="p">);</span>
<a name="docs--screenshots.js-idio.html-17"></a>    <span class="k">this</span><span class="p">.</span><span class="nx">waitForSelector</span><span class="p">(</span><span class="s2">&quot;li.info&quot;</span><span class="p">)</span>
<a name="docs--screenshots.js-idio.html-18"></a><span class="p">});</span>
</pre></div><img alt="add-new-poll-filled-in.png" src="add-new-poll-filled-in.png" />
<p>Here's our new poll:</p>
<img alt="poll-added.png" src="poll-added.png" />
</div>
<div class="section" id="views">
<h1><a class="toc-backref" href="#id4">Views</a></h1>
<p>Here is the URL routing for the polls app:</p>
<div class="highlight"><pre><a name="mysite_com--polls--urls.py-idio.html-1"></a><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">url</span>
<a name="mysite_com--polls--urls.py-idio.html-2"></a>
<a name="mysite_com--polls--urls.py-idio.html-3"></a><span class="kn">from</span> <span class="nn">polls</span> <span class="kn">import</span> <span class="n">views</span>
<a name="mysite_com--polls--urls.py-idio.html-4"></a>
<a name="mysite_com--polls--urls.py-idio.html-5"></a><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
<a name="mysite_com--polls--urls.py-idio.html-6"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">IndexView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;index&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-7"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;pk&gt;\d+)/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">DetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;detail&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-8"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;pk&gt;\d+)/results/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">ResultsView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;results&#39;</span><span class="p">),</span>
<a name="mysite_com--polls--urls.py-idio.html-9"></a>        <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^(?P&lt;poll_id&gt;\d+)/vote/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">vote</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;vote&#39;</span><span class="p">)</span>
<a name="mysite_com--polls--urls.py-idio.html-10"></a>        <span class="p">)</span>
</pre></div><div class="section" id="index">
<h2><a class="toc-backref" href="#id5">Index</a></h2>
<div class="highlight"><pre><a name="mysite_com--polls--views.py-idio.html-1"></a><span class="k">class</span> <span class="nc">IndexView</span><span class="p">(</span><span class="n">generic</span><span class="o">.</span><span class="n">ListView</span><span class="p">):</span>
<a name="mysite_com--polls--views.py-idio.html-2"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s">&#39;polls/index.html&#39;</span>
<a name="mysite_com--polls--views.py-idio.html-3"></a>    <span class="n">context_object_name</span> <span class="o">=</span> <span class="s">&#39;latest_poll_list&#39;</span>
<a name="mysite_com--polls--views.py-idio.html-4"></a>
<a name="mysite_com--polls--views.py-idio.html-5"></a>    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a name="mysite_com--polls--views.py-idio.html-6"></a>        <span class="sd">&quot;&quot;&quot;Return the last 5 published polls.&quot;&quot;&quot;</span>
<a name="mysite_com--polls--views.py-idio.html-7"></a>        <span class="k">return</span> <span class="n">Poll</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a name="mysite_com--polls--views.py-idio.html-8"></a>            <span class="n">pub_date__lte</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a name="mysite_com--polls--views.py-idio.html-9"></a>        <span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">&#39;-pub_date&#39;</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--templates--polls--index.html-idio.html-1"></a>{% extends &quot;base.html&quot; %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-2"></a>{% block content %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-3"></a>{% if latest_poll_list %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-4"></a><span class="nt">&lt;ul&gt;</span>
<a name="mysite_com--polls--templates--polls--index.html-idio.html-5"></a>    {% for poll in latest_poll_list %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-6"></a>    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;{% url &#39;polls:detail&#39; poll.id %}&quot;</span><span class="nt">&gt;</span>{{ poll.question }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<a name="mysite_com--polls--templates--polls--index.html-idio.html-7"></a>    {% endfor %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-8"></a><span class="nt">&lt;/ul&gt;</span>
<a name="mysite_com--polls--templates--polls--index.html-idio.html-9"></a>{% else %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-10"></a><span class="nt">&lt;p&gt;</span>No polls are available.<span class="nt">&lt;/p&gt;</span>
<a name="mysite_com--polls--templates--polls--index.html-idio.html-11"></a>{% endif %}
<a name="mysite_com--polls--templates--polls--index.html-idio.html-12"></a>{% endblock %}
</pre></div><p>Here's how this looked at the start:</p>
<img alt="no-polls-available.png" src="no-polls-available.png" />
<p>Here's how this looks after adding a poll via the admin interface:</p>
<img alt="index.png" src="index.png" />
</div>
<div class="section" id="detail">
<h2><a class="toc-backref" href="#id6">Detail</a></h2>
<div class="highlight"><pre><a name="mysite_com--polls--views.py-idio.html-1"></a><span class="k">class</span> <span class="nc">DetailView</span><span class="p">(</span><span class="n">generic</span><span class="o">.</span><span class="n">DetailView</span><span class="p">):</span>
<a name="mysite_com--polls--views.py-idio.html-2"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Poll</span>
<a name="mysite_com--polls--views.py-idio.html-3"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s">&#39;polls/detail.html&#39;</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--templates--polls--detail.html-idio.html-1"></a>{% extends &quot;base.html&quot; %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-2"></a>{% block content %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-3"></a><span class="nt">&lt;h1&gt;</span>{{ poll.question }}<span class="nt">&lt;/h1&gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-4"></a>{% if error_message %}<span class="nt">&lt;p&gt;&lt;strong&gt;</span>{{ error_message }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>{% endif %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-5"></a><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;{% url &#39;polls:vote&#39; poll.id %}&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-6"></a>{% csrf_token %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-7"></a>{% for choice in poll.choice_set.all %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-8"></a><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;radio&quot;</span> <span class="na">name=</span><span class="s">&quot;choice&quot;</span> <span class="na">id=</span><span class="s">&quot;choice{{ forloop.counter }}&quot;</span> <span class="na">value=</span><span class="s">&quot;{{ choice.id }}&quot;</span><span class="nt">&gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-9"></a><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;choice{{ forloop.counter }}&quot;</span><span class="nt">&gt;</span>{{ choice.choice_text }}<span class="nt">&lt;/label&gt;&lt;br</span> <span class="nt">/&gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-10"></a>{% endfor %}
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-11"></a><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Vote&quot;</span> <span class="nt">/&gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-12"></a><span class="nt">&lt;/form &gt;</span>
<a name="mysite_com--polls--templates--polls--detail.html-idio.html-13"></a>{% endblock %}
</pre></div><img alt="voting.png" src="voting.png" />
</div>
<div class="section" id="results">
<h2><a class="toc-backref" href="#id7">Results</a></h2>
<div class="highlight"><pre><a name="mysite_com--polls--views.py-idio.html-1"></a><span class="k">class</span> <span class="nc">ResultsView</span><span class="p">(</span><span class="n">generic</span><span class="o">.</span><span class="n">DetailView</span><span class="p">):</span>
<a name="mysite_com--polls--views.py-idio.html-2"></a>    <span class="n">model</span> <span class="o">=</span> <span class="n">Poll</span>
<a name="mysite_com--polls--views.py-idio.html-3"></a>    <span class="n">template_name</span> <span class="o">=</span> <span class="s">&#39;polls/results.html&#39;</span>
</pre></div><div class="highlight"><pre><a name="mysite_com--polls--templates--polls--results.html-idio.html-1"></a>{% extends &quot;base.html&quot; %}
<a name="mysite_com--polls--templates--polls--results.html-idio.html-2"></a>{% block content %}
<a name="mysite_com--polls--templates--polls--results.html-idio.html-3"></a><span class="nt">&lt;h1&gt;</span>{{ poll.question }}<span class="nt">&lt;/h1&gt;</span>
<a name="mysite_com--polls--templates--polls--results.html-idio.html-4"></a><span class="nt">&lt;ul&gt;</span>
<a name="mysite_com--polls--templates--polls--results.html-idio.html-5"></a>    {% for choice in poll.choice_set.all %}
<a name="mysite_com--polls--templates--polls--results.html-idio.html-6"></a>    <span class="nt">&lt;li&gt;</span>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes | pluralize }} <span class="nt">&lt;/li&gt;</span>
<a name="mysite_com--polls--templates--polls--results.html-idio.html-7"></a>    {% endfor %}
<a name="mysite_com--polls--templates--polls--results.html-idio.html-8"></a><span class="nt">&lt;/ul&gt;</span>
<a name="mysite_com--polls--templates--polls--results.html-idio.html-9"></a><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{% url &#39;polls:detail&#39; poll.id %}&quot;</span><span class="nt">&gt;</span>Vote again?<span class="nt">&lt;/a&gt;</span>
<a name="mysite_com--polls--templates--polls--results.html-idio.html-10"></a>{% endblock %}
</pre></div><img alt="voted.png" src="voted.png" />
<img alt="many-votes.png" src="many-votes.png" />
</div>
</div>

        </div>
    </div>
    </body>
</html>
